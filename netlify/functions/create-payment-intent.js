// netlify/functions/create-payment-intent.jsconst stripe = require('stripe')(process.env.STRIPE_SECRET_KEY_LIVE);exports.handler = async (event) => {try {const { product } = JSON.parse(event.body);// Domestic pricing map in centsconst priceMap = {"8x10": 12000,   // $120"12x18": 20000,  // $200"18x24": 30000,  // $300"18x24_rush": 35000  // Example rush if you offer it};const amount = priceMap[product];if (!amount) {return {statusCode: 400,body: JSON.stringify({ error: 'Invalid product selection' }),};}// Create the PaymentIntent (Stripe automatically supports Apple Pay/Google Pay/Venmo)const paymentIntent = await stripe.paymentIntents.create({amount,currency: 'usd',payment_method_types: ['card'], // Wallets work through this type});return {statusCode: 200,body: JSON.stringify({ clientSecret: paymentIntent.client_secret }),};} catch (error) {console.error(error);return {statusCode: 500,body: JSON.stringify({ error: error.message }),};}};