exports.handler = async (event, context) => {
  const isKeyPresent = !!process.env.STRIPE_SECRET_KEY;
  const keyType = process.env.STRIPE_SECRET_KEY && process.env.STRIPE_SECRET_KEY.startsWith('sk_live')
    ? 'LIVE MODE'
    : process.env.STRIPE_SECRET_KEY && process.env.STRIPE_SECRET_KEY.startsWith('sk_test')
    ? 'TEST MODE'
    : 'UNKNOWN / NOT SET';

  return {
    statusCode: 200,
    body: JSON.stringify({
      keyPresent: isKeyPresent,
      keyType: keyType,
    }),
  };
};
